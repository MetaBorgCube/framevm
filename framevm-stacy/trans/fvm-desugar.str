module fvm-desugar

imports
	signatures/framevm-stacy-sig
	desugar/toRISC
	desugar/fixSeq
	desugar/pseudo
	desugar/register

signature
  sorts S
  constructors    
    Bind : STRING * INT -> S
    FVM_Seq : [Instr] -> S
    FVM_Block : FVM_Label * FVM_Seq * INT -> S
    FVM_Program: INT * [FVM_Block] -> S
    
rules  
    desugar-full = desugar; to-RISC-all
    desugar = apply-aliasses; fix-seq; desugar-pseudo-all
  	 
	resugar = resugar-seq; resugar-pseudo-all; resugar-aliasses 
   
