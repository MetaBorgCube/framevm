module stc_interpreter_cont_copy

language framevm

fixture [[#init 2
MAIN:
	stack := 99
	[[...]]
	print
	
	ipush 0
	return
]]

test shallow shallow cont copy 1 [[
	new 1
	dup
	ipush 12
	setr [0]
	set [0]
	ipush 13
	ccopy shallow shallow
	
	dup
	cget []
	csetr [c]
	ccall CONT
	
	
]] transform "Run -> Run" to "42
42"
